{"version":3,"file":"pollyjs-persister-fs.js","sources":["../../src/index.js"],"sourcesContent":["import Persister from '@pollyjs/persister';\nimport { API, Defaults } from '@pollyjs/node-server';\n\nconst { parse } = JSON;\n\nexport default class FSPersister extends Persister {\n  constructor() {\n    super(...arguments);\n    this.api = new API(this.options);\n  }\n\n  static get id() {\n    return 'fs';\n  }\n\n  static get name() {\n    // NOTE: deprecated in 4.1.0 but proxying since it's possible \"core\" is behind\n    // and therefore still referencing `name`.  Remove in 5.0.0\n    return this.id;\n  }\n\n  get defaultOptions() {\n    return {\n      recordingsDir: Defaults.recordingsDir\n    };\n  }\n\n  findRecording(recordingId) {\n    return this.api.getRecording(recordingId).body || null;\n  }\n\n  saveRecording(recordingId, data) {\n    /*\n      Pass the data through the base persister's stringify method so\n      the output will be consistent with the rest of the persisters.\n    */\n    this.api.saveRecording(recordingId, parse(this.stringify(data)));\n  }\n\n  deleteRecording(recordingId) {\n    this.api.deleteRecording(recordingId);\n  }\n}\n"],"names":["parse","JSON","FSPersister","Persister","constructor","arguments","api","API","options","id","name","defaultOptions","recordingsDir","Defaults","findRecording","recordingId","getRecording","body","saveRecording","data","stringify","deleteRecording"],"mappings":";;;;;;;;;;AAGA,MAAM;EAAEA;IAAUC,IAAlB;AAEA,AAAe,MAAMC,WAAN,SAA0BC,SAA1B,CAAoC;EACjDC,WAAW,GAAG;UACN,GAAGC,SAAT;SACKC,GAAL,GAAW,IAAIC,GAAJ,CAAQ,KAAKC,OAAb,CAAX;;;aAGSC,EAAX,GAAgB;WACP,IAAP;;;aAGSC,IAAX,GAAkB;;;WAGT,KAAKD,EAAZ;;;MAGEE,cAAJ,GAAqB;WACZ;MACLC,aAAa,EAAEC,QAAQ,CAACD;KAD1B;;;EAKFE,aAAa,CAACC,WAAD,EAAc;WAClB,KAAKT,GAAL,CAASU,YAAT,CAAsBD,WAAtB,EAAmCE,IAAnC,IAA2C,IAAlD;;;EAGFC,aAAa,CAACH,WAAD,EAAcI,IAAd,EAAoB;;;;;SAK1Bb,GAAL,CAASY,aAAT,CAAuBH,WAAvB,EAAoCf,KAAK,CAAC,KAAKoB,SAAL,CAAeD,IAAf,CAAD,CAAzC;;;EAGFE,eAAe,CAACN,WAAD,EAAc;SACtBT,GAAL,CAASe,eAAT,CAAyBN,WAAzB;;;;;;;"}