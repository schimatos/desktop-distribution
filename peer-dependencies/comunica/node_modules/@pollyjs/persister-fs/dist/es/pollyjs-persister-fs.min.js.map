{"version":3,"file":"pollyjs-persister-fs.min.js","sources":["../../src/index.js"],"sourcesContent":["import Persister from '@pollyjs/persister';\nimport { API, Defaults } from '@pollyjs/node-server';\n\nconst { parse } = JSON;\n\nexport default class FSPersister extends Persister {\n  constructor() {\n    super(...arguments);\n    this.api = new API(this.options);\n  }\n\n  static get id() {\n    return 'fs';\n  }\n\n  static get name() {\n    // NOTE: deprecated in 4.1.0 but proxying since it's possible \"core\" is behind\n    // and therefore still referencing `name`.  Remove in 5.0.0\n    return this.id;\n  }\n\n  get defaultOptions() {\n    return {\n      recordingsDir: Defaults.recordingsDir\n    };\n  }\n\n  findRecording(recordingId) {\n    return this.api.getRecording(recordingId).body || null;\n  }\n\n  saveRecording(recordingId, data) {\n    /*\n      Pass the data through the base persister's stringify method so\n      the output will be consistent with the rest of the persisters.\n    */\n    this.api.saveRecording(recordingId, parse(this.stringify(data)));\n  }\n\n  deleteRecording(recordingId) {\n    this.api.deleteRecording(recordingId);\n  }\n}\n"],"names":["parse","JSON","Persister","constructor","arguments","api","API","this","options","id","recordingsDir","Defaults","findRecording","recordingId","getRecording","body","saveRecording","data","stringify","deleteRecording"],"mappings":"2FAGA,MAAMA,MAAEA,GAAUC,oBAEH,cAA0BC,EACvCC,uBACWC,gBACJC,IAAM,IAAIC,EAAIC,KAAKC,+BAIjB,8BAMAD,KAAKE,8BAIL,CACLC,cAAeC,EAASD,eAI5BE,cAAcC,UACLN,KAAKF,IAAIS,aAAaD,GAAaE,MAAQ,KAGpDC,cAAcH,EAAaI,QAKpBZ,IAAIW,cAAcH,EAAab,EAAMO,KAAKW,UAAUD,KAG3DE,gBAAgBN,QACTR,IAAIc,gBAAgBN"}