"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.ShortcutPropertyHandler = void 0;
/**
 * A proxy handler for exposing a URI-to-? map to shortcut-to-? map
 * based on a JSON-LD context.
 */
class ShortcutPropertyHandler {
    constructor(context) {
        this.context = context;
    }
    has(target, p) {
        return this.get(target, p).length > 0;
    }
    get(target, p) {
        return target[this.context.expandTerm(this.toTermString(p), true)] || [];
    }
    set(target, p, value) {
        target[this.context.expandTerm(this.toTermString(p), true)] = value;
        return true;
    }
    ownKeys(target) {
        return Object.keys(target)
            .map((key) => this.context.expandTerm(key, true))
            .filter((key) => this.has(target, key));
    }
    toTermString(p) {
        return typeof p === 'string' ? p : String(p);
    }
}
exports.ShortcutPropertyHandler = ShortcutPropertyHandler;
//# sourceMappingURL=ShortcutPropertyHandler.js.map