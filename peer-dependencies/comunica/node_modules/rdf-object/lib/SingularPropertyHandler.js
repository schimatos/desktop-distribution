"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.SingularPropertyHandler = void 0;
/**
 * A proxy handler for exposing array-valued hashes
 * as hashes with singular values.
 * This proxy will always take the first element of array values.
 */
class SingularPropertyHandler {
    has(target, p) {
        return !!this.get(target, p);
    }
    get(target, p) {
        const value = target[p];
        return value && value.length > 0 ? value[0] : null;
    }
    set(target, p, value) {
        target[p] = [value];
        return true;
    }
    ownKeys(target) {
        return Object.keys(target).filter((key) => this.has(target, key));
    }
}
exports.SingularPropertyHandler = SingularPropertyHandler;
//# sourceMappingURL=SingularPropertyHandler.js.map