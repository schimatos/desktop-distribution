{"version":3,"file":"ActorRdfMetadataExtractHydraLinksQuery.js","sourceRoot":"","sources":["ActorRdfMetadataExtractHydraLinksQuery.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAEA,iFAAkF;AAElF,kEAAoD;AAEpD;;GAEG;AACH,MAAa,sCAAuC,SAAQ,uDAA4B;IAWtF,YAAmB,IAAuC;QACxD,KAAK,CAAC,iBAAiB,EAAE,sCAAsC,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;IACzF,CAAC;IAEM,KAAK,CAAC,IAAI,CAAC,MAAiC;QACjD,OAAO,IAAI,CAAC;IACd,CAAC;IAEM,KAAK,CAAC,GAAG,CAAC,MAAiC;QAChD,MAAM,QAAQ,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAE,UAAU,EAAE,MAAM,CAAC,GAAG,EAAE,CAAC,CAAC;QACnF,OAAO,QAAQ,CAAC,KAAK,CAAC;QACtB,OAAO,EAAE,QAAQ,EAAE,CAAC;IACtB,CAAC;;AAvBH,wFAwBC;AAvBwB,sDAAe,GAAW;;;;;;;;MAQ7C,CAAC","sourcesContent":["import type { IActionRdfMetadataExtract, IActorRdfMetadataExtractOutput,\n  IActorRdfMetadataExtractQueryArgs } from '@comunica/bus-rdf-metadata-extract';\nimport { ActorRdfMetadataExtractQuery } from '@comunica/bus-rdf-metadata-extract';\nimport type { IActorTest } from '@comunica/core';\nimport * as GRAPHQLLD_CONTEXT from './context.json';\n\n/**\n * A comunica Query-based Hydra Links RDF Metadata Extract Actor.\n */\nexport class ActorRdfMetadataExtractHydraLinksQuery extends ActorRdfMetadataExtractQuery {\n  public static readonly GRAPHQLLD_QUERY: string = `\n    query($pageUrl: String) @single(scope: all) {\n      graph\n      id(_: $pageUrl)\n      first(alt: firstPage)       @optional\n      next(alt: nextPage)         @optional\n      previous(alt: previousPage) @optional\n      last(alt: lastPage)         @optional\n    }`;\n\n  public constructor(args: IActorRdfMetadataExtractQueryArgs) {\n    super(GRAPHQLLD_CONTEXT, ActorRdfMetadataExtractHydraLinksQuery.GRAPHQLLD_QUERY, args);\n  }\n\n  public async test(action: IActionRdfMetadataExtract): Promise<IActorTest> {\n    return true;\n  }\n\n  public async run(action: IActionRdfMetadataExtract): Promise<IActorRdfMetadataExtractOutput> {\n    const metadata = await this.queryData(action.metadata, { '?pageUrl': action.url });\n    delete metadata.graph;\n    return { metadata };\n  }\n}\n"]}