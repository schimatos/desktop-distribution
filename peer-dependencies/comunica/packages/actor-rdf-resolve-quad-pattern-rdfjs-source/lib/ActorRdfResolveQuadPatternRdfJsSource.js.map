{"version":3,"file":"ActorRdfResolveQuadPatternRdfJsSource.js","sourceRoot":"","sources":["ActorRdfResolveQuadPatternRdfJsSource.ts"],"names":[],"mappings":";;;AAEA,yFAEgD;AAEhD,uDAAoD;AAEpD;;GAEG;AACH,MAAa,qCAAsC,SAAQ,+DAAgC;IACzF,YAAmB,IAA6F;QAC9G,KAAK,CAAC,IAAI,CAAC,CAAC;IACd,CAAC;IAEM,KAAK,CAAC,IAAI,CAAC,MAAoC;QACpD,IAAI,CAAC,IAAI,CAAC,4BAA4B,CAAC,aAAa,EAAE,MAAM,CAAC,OAAO,CAAC,EAAE;YACrE,MAAM,IAAI,KAAK,CAAC,GAAG,IAAI,CAAC,IAAI,6EAA6E,CAAC,CAAC;SAC5G;QACD,MAAM,MAAM,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;QACrD,IAAI,CAAC,MAAM,IAAI,OAAO,MAAM,KAAK,QAAQ,IAAI,CAAC,CAAC,CAAC,OAAO,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,EAAE;YAC1F,MAAM,IAAI,KAAK,CAAC,GAAG,IAAI,CAAC,IAAI,mCAAmC,CAAC,CAAC;SAClE;QACD,OAAO,IAAI,CAAC;IACd,CAAC;IAES,KAAK,CAAC,SAAS,CAAC,OAAsB;QAC9C,MAAM,MAAM,GAAc,IAAI,CAAC,gBAAgB,CAAC,OAAO,CAAC,CAAC;QACzD,OAAO,IAAI,iCAAe,CAAC,OAAO,IAAI,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC;IACxE,CAAC;CACF;AApBD,sFAoBC","sourcesContent":["import type { IActionRdfResolveQuadPattern, IActorRdfResolveQuadPatternOutput,\n  IQuadSource } from '@comunica/bus-rdf-resolve-quad-pattern';\nimport {\n  ActorRdfResolveQuadPatternSource,\n} from '@comunica/bus-rdf-resolve-quad-pattern';\nimport type { ActionContext, IActorArgs, IActorTest } from '@comunica/core';\nimport { RdfJsQuadSource } from './RdfJsQuadSource';\n\n/**\n * A comunica RDFJS Source RDF Resolve Quad Pattern Actor.\n */\nexport class ActorRdfResolveQuadPatternRdfJsSource extends ActorRdfResolveQuadPatternSource {\n  public constructor(args: IActorArgs<IActionRdfResolveQuadPattern, IActorTest, IActorRdfResolveQuadPatternOutput>) {\n    super(args);\n  }\n\n  public async test(action: IActionRdfResolveQuadPattern): Promise<IActorTest> {\n    if (!this.hasContextSingleSourceOfType('rdfjsSource', action.context)) {\n      throw new Error(`${this.name} requires a single source with an rdfjsSource to be present in the context.`);\n    }\n    const source = this.getContextSource(action.context);\n    if (!source || typeof source === 'string' || (!('match' in source) && !source.value.match)) {\n      throw new Error(`${this.name} received an invalid rdfjsSource.`);\n    }\n    return true;\n  }\n\n  protected async getSource(context: ActionContext): Promise<IQuadSource> {\n    const source: any = <any> this.getContextSource(context);\n    return new RdfJsQuadSource('match' in source ? source : source.value);\n  }\n}\n"]}